<h2>Chi tiết nhân khẩu</h2>

<form id="nhanKhauForm" action="/admin/hokhau/{{hokhau.idSoHoKhau}}/update" method="POST">
  <div class="detail-box">
    <p><strong>ID:</strong> <span id="view-idNhanKhau">{{hokhau.idSoHoKhau}}</span></p>

    <p><strong>Số sổ hộ khẩu:</strong>
      <span class="view-mode">{{hokhau.soSoHoKhau}}</span>
      <input class="edit-mode" type="text" name="soSoHoKhau" value="{{hokhau.soSoHoKhau}}" style="display:none;">
    </p>

    <p><strong>Họ tên chủ hộ:</strong>
      <span class="view-mode">{{hokhau.hoTenChu}}</span>
      <input class="edit-mode" type="text" name="hoTenChu" value="{{hokhau.hoTenChu}}" style="display:none;">
    </p>

    <p><strong>Thông tin thêm:</strong>
      <span class="view-mode">{{hokhau.thongTinThem}}</span>
      <input class="edit-mode" type="text" name="thongTinThem" value="{{hokhau.thongTinThem}}" style="display:none;">
    </p>
  </div>

  <div class="button-group">
    <a href="/admin/hokhau" class="btn btn-back">Quay lại</a>
    <button type="button" id="editBtn" class="btn btn-edit">✏️ Chỉnh sửa</button>
    <button type="submit" id="saveBtn" class="btn btn-save" style="display:none;">💾 Lưu</button>
  </div>
</form>

<form id="deleteForm" action="/admin/hokhau/{{hokhau.idSoHoKhau}}/delete" method="POST" style="display: inline;">
  <button type="submit" id="deleteBtn" class="btn btn-delete" onclick="return confirm('Bạn có chắc chắn muốn xóa nhân khẩu này không?')">🗑️ Xóa</button>
</form>

<script>
  document.getElementById('editBtn').addEventListener('click', function () {
    // Ẩn phần xem
    document.querySelectorAll('.view-mode').forEach(el => el.style.display = 'none');
    // Hiện phần chỉnh sửa
    document.querySelectorAll('.edit-mode').forEach(el => el.style.display = 'inline');
    // Ẩn nút "Chỉnh sửa" và "Xóa", hiện nút "Lưu"
    document.getElementById('editBtn').style.display = 'none';
    document.getElementById('deleteBtn').style.display = 'none';
    document.getElementById('saveBtn').style.display = 'inline';
  });
</script>
