<div class="container mt-5">
  <!-- Nút quay lại -->
    <div class="back-link-wrapper">
        <a href="/admin/hokhau" class="back-link">
            <span class="back-link__icon">←</span>
            <span class="back-link__text">Trở về danh sách hộ khẩu</span>
        </a>
    </div>
  <h2 class="green-header text-center mb-4">Chi tiết Nhân Khẩu</h2>

  <form id="nhanKhauForm" action="/admin/hokhau/{{hokhau.idSoHoKhau}}/update" method="POST">
    <div class="card shadow">
      <div class="card-body">
        <div class="mb-3">
          <label class="form-label fw-bold">ID:</label>
          <p class="form-control-plaintext" id="view-idNhanKhau">{{hokhau.idSoHoKhau}}</p>
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Số sổ hộ khẩu:</label>
          <p class="form-control-plaintext view-mode">{{hokhau.soSoHoKhau}}</p>
          <input type="text" class="form-control edit-mode" name="soSoHoKhau" value="{{hokhau.soSoHoKhau}}" style="display: none;">
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Họ tên chủ hộ:</label>
          <p class="form-control-plaintext view-mode">{{hokhau.hoTenChu}}</p>
          <input type="text" class="form-control edit-mode" name="hoTenChu" value="{{hokhau.hoTenChu}}" style="display: none;">
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Thông tin thêm:</label>
          <p class="form-control-plaintext view-mode">{{hokhau.thongTinThem}}</p>
          <input type="text" class="form-control edit-mode" name="thongTinThem" value="{{hokhau.thongTinThem}}" style="display: none;">
        </div>
      </div>

      <div class="card-footer d-flex justify-content-between">
        <div>
          <button type="button" id="editBtn" class="btn btn-warning">Chỉnh sửa</button>
          <button type="submit" id="saveBtn" class="btn btn-success" style="display: none;">Lưu</button>
        </div>
      </div>
    </div>
  </form>

  <form id="deleteForm" action="/admin/hokhau/{{hokhau.idSoHoKhau}}/delete" method="POST" class="mt-3 text-end">
    <button type="submit" id="deleteBtn" class="btn btn-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa nhân khẩu này không?')">
      Xóa
    </button>
  </form>
</div>

<script>
  document.getElementById('editBtn').addEventListener('click', function () {
    document.querySelectorAll('.view-mode').forEach(el => el.style.display = 'none');
    document.querySelectorAll('.edit-mode').forEach(el => el.style.display = 'block');
    document.getElementById('editBtn').style.display = 'none';
    document.getElementById('deleteBtn').style.display = 'none';
    document.getElementById('saveBtn').style.display = 'inline-block';
  });
</script>
