  <h2>Danh s√°ch nh√¢n kh·∫©u</h2>

  <form class="form-filter" onsubmit="return false;">
    <div class="form-group">
      <label>H·ªç t√™n</label>
      <input type="text" id="filterHoTen" placeholder="Nh·∫≠p h·ªç t√™n">
    </div>
    <div class="form-group">
      <label>ID SHK</label>
      <input type="text" id="filterSoHoKhau" placeholder="Nh·∫≠p s·ªë h·ªô kh·∫©u">
    </div>
    <div class="button-group">
      <button type="button" class="btn btn-filter" onclick="filterTable()">üîç L·ªçc</button>
      <button type="button" class="btn btn-reset" onclick="resetFilter()">L√†m m·ªõi</button>
      <a href="/admin/nhankhau/add" class="btn btn-add">+ Th√™m m·ªõi</a>
    </div>
  </form>

  <table class="table-nhankhau">
    <thead>
      <tr>
        <th>ID</th>
        <th>ID S·ªï h·ªô kh·∫©u</th>
        <th>H·ªç t√™n</th>
        <th>Ng√†y sinh</th>
        <th>N∆°i sinh</th>
        <th>Qu√™ qu√°n</th>
        <th>D√¢n t·ªôc</th>
        <th>Ngh·ªÅ nghi·ªáp</th>
        <th>S·ªë CCCD</th>
        <th>Ng√†y c·∫•p</th>
        <th>Chi ti·∫øt</th>
      </tr>
    </thead>
    <tbody>
      {{#each nhanKhaus}}
        <tr>
          <td>{{this.idNhanKhau}}</td>
          <td>{{this.idSoHoKhau.soSoHoKhau}}</td>
          <td>{{this.hoTen}}</td>
          <td>{{formatDate this.ngaySinh}}</td>
          <td>{{this.noiSinh}}</td>
          <td>{{this.queQuan}}</td>
          <td>{{this.danToc}}</td>
          <td>{{this.ngheNghiep}}</td>
          <td>{{this.soCCCD}}</td>
          <td>{{formatDate this.ngayCap}}</td>
          <td><a href="/admin/nhankhau/{{this.idNhanKhau}}" class="btn btn-detail">‚ÑπÔ∏è</a></td>
        </tr>
      {{/each}}
    </tbody>
  </table>

  <script>
    function filterTable() {
      const hoTenFilter = document.getElementById('filterHoTen').value.toLowerCase();
      const soHoKhauFilter = document.getElementById('filterSoHoKhau').value.toLowerCase();

      const rows = document.querySelectorAll('.table-nhankhau tbody tr');

      rows.forEach(row => {
        const hoTen = row.cells[2].textContent.toLowerCase(); // H·ªç t√™n ·ªü c·ªôt th·ª© 3
        const soHoKhau = row.cells[1].textContent.toLowerCase(); // S·ªï h·ªô kh·∫©u ·ªü c·ªôt th·ª© 2

        const matchHoTen = hoTen.includes(hoTenFilter);
        const matchSoHoKhau = soHoKhau.includes(soHoKhauFilter);

        if (matchHoTen && matchSoHoKhau) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }

    function resetFilter() {
      document.getElementById('filterHoTen').value = '';
      document.getElementById('filterSoHoKhau').value = '';
      filterTable(); // Hi·ªán l·∫°i t·∫•t c·∫£ h√†ng
    }
  </script>

