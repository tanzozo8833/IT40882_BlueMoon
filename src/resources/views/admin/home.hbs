<<<<<<< HEAD
<!--Tổng quan về doanh thu của chung cư tháng hiện tại và so với tháng trước đó.-->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light p-4">

  <!-- Doanh thu -->
  <section class="container bg-white p-4 rounded shadow">
    <h2 class="mt text-sm fw-bold text-dark" id="revenue-title">Doanh thu</h2>
    <p class="mt-2 text-xs" id="revenue-description">
    </p>

    <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/2f98b9f9451baaf5a92793bcc9a50c0556551f90"
         alt="Biểu đồ doanh thu"
         class="img-fluid mt-3">

    <!-- Khu vực Biểu đồ doanh thu -->
    <div id="revenue-chart-container"></div>

    <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/02ba35d70c728050c50e8071b93a7795f0d0474c"
         alt="Biểu đồ doanh thu"
         class="img-fluid mt-3">
  </section>

  <script>
    fetch('../common/Dashboard/RevenueChart.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('revenue-chart-container').innerHTML = data;

        // Thực thi script sau khi tải nội dung
        const scriptTag = document.createElement("script");
        scriptTag.textContent = data.match(/<script>([\s\S]*?)<\/script>/)[1];
        document.body.appendChild(scriptTag);
  });

  // Cập nhật tiêu đề và mô tả dựa trên dữ liệu
  window.addEventListener("message", (event) => {
    if (Array.isArray(event.data) && event.data.length > 1) {
      const lastMonthRevenue = event.data[event.data.length - 1];  // Doanh thu tháng cuối cùng
      const previousMonthRevenue = event.data[event.data.length - 2];  // Doanh thu tháng trước đó

      // Tính phần trăm tăng giảm
      const percentageChange = (((lastMonthRevenue - previousMonthRevenue) / previousMonthRevenue) * 100).toFixed(1);
      const spanClass = percentageChange >= 0 ? "text-success" : "text-danger";
      // Hiển thị doanh thu tháng cuối
      document.getElementById("revenue-title").innerHTML = "Doanh thu: " + lastMonthRevenue.toLocaleString() + " VNĐ";

      // Hiển thị phần trăm thay đổi
      document.getElementById("revenue-description").innerHTML = `
        <span class="fw-semibold ${spanClass}">${percentageChange}%</span>
        <span class="text-muted"> so với tháng trước</span>
      `
    }
  });
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
=======
<style>
    body {
        background: #f8f9fa;
    }

    .circle-container {
        position: relative;
        width: 150px;
        height: 150px;
        border-radius: 50%;
        font-size: 25px;
        font-weight: bold;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
    }

    .residents-circle {
        background-color: #FAA644;
    }

    .apartments-circle {
        background-color: #44C5E1;
        color: black;
    }

    .outer-ring {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .outer-ring circle {
        fill: none;
        stroke-width: 2;
        stroke-linecap: round;
        transform: rotate(-90deg);
        transform-origin: center;
    }

    .vehicle-container {
        max-width: 400px;
        display: flex;
        flex-direction: column;
        align-items: start;
        z-index: 10;
    }

    .vehicle-type {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        font-weight: 500;
    }

    .dot {
        border-radius: 50%;
        height: 9px;
        width: 9px;
    }

    .bg-indigo-500 {
        background-color: #6366F1;
    }

    .bg-indigo-400 {
        background-color: #818CF8;
    }

    .bg-indigo-200 {
        background-color: #C7D2FE;
    }

    .transactions-container {
        width: 400px;
        max-height: 300px;
        padding: 15px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .transaction-item {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
    }

    .transaction-divider {
        border-top: 1px solid #ddd;
        margin: 10px 0;
    }
</style>
<!-- Cột 1: Doanh thu & Dân cư -->
<div class="col-md-8">
    <div id="revenue-container">
        <section class="bg-white p-4 rounded shadow mb-4">
            <h2 class="mt text-sm fw-bold text-dark" id="revenue-title">Doanh thu</h2>
            <p class="mt-2 text-xs" id="revenue-description"></p>

            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/2f98b9f9451baaf5a92793bcc9a50c0556551f90"
                alt="Biểu đồ doanh thu" class="img-fluid mt-3">

            <!-- Khu vực Biểu đồ doanh thu -->
            <div id="revenue-chart-container"></div>

            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/02ba35d70c728050c50e8071b93a7795f0d0474c"
                alt="Biểu đồ doanh thu" class="img-fluid mt-3">
        </section>
    </div>
    <div id="residents-container">
        <section class="bg-white p-4 rounded shadow">
            <div class="row">
                <div class="col-md-6 text-dark d-flex flex-column align-items-center">
                    <h2>Dân cư</h2>
                    <div class="circle-container residents-circle">
                        <pre id="residents-count"></pre>
                        <svg class="outer-ring" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" stroke-dasharray="282.6" stroke-dashoffset="141.3"
                                stroke="#FFD700"></circle>
                        </svg>
                    </div>
                </div>

                <div class="col-md-6 text-dark d-flex flex-column align-items-center">
                    <h2>Căn hộ</h2>
                    <div class="circle-container apartments-circle">
                        <pre id="apartments-count"></pre>
                        <svg class="outer-ring" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" stroke-dasharray="282.6" stroke-dashoffset="226"
                                stroke="#8de5f9"></circle>
                        </svg>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- Cột 2: Các phần khác -->
<div class="col-md-8">
    <div id="vehicle-registration-container" class="position-absolute top-0 end-0 p-3">
        <section class="vehicle-container bg-white p-4 rounded shadow mb-4">
            <h2 class="text-sm">Đăng ký gửi xe</h2>
            <p class="mt-2 text-sm">12/2024</p>
            <div class="chart-container">
                <svg width="280" height="150" viewBox="0 0 150 200" id="pieChart"></svg>
            </div>
            <div class="d-flex justify-between gap-4 text-xs text-dark">
                <div class="vehicle-type" id="car"></div>
                <div class="vehicle-type" id="motorcycle"></div>
                <div class="vehicle-type" id="bicycle"></div>
            </div>
        </section>
    </div>
    <div id="recent-transactions-container" class="position-absolute bottom-0 end-0 p-3">
        <!-- Khoản thu gần đây -->
        <div class="transactions-container mt-4">
            <h2 class="text-sm fw-bold">Khoản thu gần đây</h2>
            <div id="transactions-list">
                <div class="transaction-item">
                    <div>CH001 đã nộp phí điện</div>
                    <div class="fw-semibold">VND 450.000</div>
                </div>
                <div class="transaction-divider"></div>
                <div class="transaction-item">
                    <div>CH002 đã nộp phí dịch vụ</div>
                    <div class="fw-semibold">VND 700.000</div>
                </div>
                <div class="transaction-divider"></div>
                <div class="transaction-item">
                    <div>CH003 đã nộp phí bảo trì</div>
                    <div class="fw-semibold">VND 300.000</div>
                </div>
            </div>
        </div>
    </div>
</div>
>>>>>>> e21ca335fba7e0e874210c7a97958d0184a28258
